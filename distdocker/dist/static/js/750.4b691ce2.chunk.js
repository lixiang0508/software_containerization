"use strict";(self.webpackChunkveganpro_front=self.webpackChunkveganpro_front||[]).push([[750],{2750:function(t,e,n){n.r(e),n.d(e,{default:function(){return j}});var s=n(5671),o=n(3144),i=n(136),r=n(2882),l=n(2791),a=n(2748),c=n(364),m=(n(3393),n(4569)),h=n.n(m),u=n(7898),d=n(1796),g=function(t){return function(e){h().get(d.mD+"blog/get/"+t).then((function(t){console.log("blog detail is",t.data.data);var n=t.data.data;e(function(t){return{type:u.e,title:t.title,content:t.text,img:t.img,hits:t.hits,likes:t.likes,comments:t.comments}}(n))}))}},p=n(9271),f=n(184),x=function(t){(0,i.Z)(n,t);var e=(0,r.Z)(n);function n(){var t;(0,s.Z)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={blogCommentList:[]},t.publishComment=function(e,n){h().post("http://localhost:8085/blogComment/add",{headers:{token:localStorage.getItem("user_token")},blogId:e,comment:n}).then((function(e){var n=e.data.err;console.log("\u6dfb\u52a0\u8bc4\u8bba\u8fd4\u56de",e),0===n?(alert("Comment added success"),t.setState({"":""})):alert("Comment added failed")}))},t}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.id;this.props.getBlogDetail(e),h().get("http://localhost:8085/blogComment/check/"+e).then((function(e){console.log(e.data);var n=e.data.data;t.setState({blogCommentList:n})}),(function(t){console.log(t)}))}},{key:"render",value:function(){var t=this;console.log("\u5f53\u524dprops",this.props);var e=this.state.blogCommentList;return(0,f.jsxs)(a.c0,{children:[(0,f.jsxs)(a.h4,{children:[this.props.title," "]}),(0,f.jsxs)(a.VY,{children:[(0,f.jsx)("img",{src:"../../../images/article"+this.props.match.params.id+".jpeg"}),(0,f.jsx)(a.xv,{dangerouslySetInnerHTML:{__html:this.props.content}})]}),(0,f.jsxs)(a.Ke,{children:[(0,f.jsx)(a.JZ,{children:(0,f.jsx)("span",{children:"Any feelings?"})}),(0,f.jsxs)(a.xG,{children:[(0,f.jsx)("textarea",{cols:"50",rows:"10",placeholder:"Leave your comment!",ref:function(e){t.commentText=e}}),(0,f.jsx)("button",{onClick:function(){return t.publishComment(t.props.match.params.id,t.commentText.value)},children:"Publish comment"})]}),(0,f.jsx)(a.j_,{children:(0,f.jsxs)("p",{children:[(0,f.jsxs)("span",{children:[this.props.hits,"\xa0"]}),"Readings,\xa0",(0,f.jsx)("span",{children:this.props.comments}),"\xa0Comments"]})})]}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsxs)(a.$O,{children:[(0,f.jsx)("p",{children:"Comments"}),e.map((function(t){return(0,f.jsxs)(a.HI,{children:[(0,f.jsxs)(a.Es,{children:[t.customerName," \xa0",(0,f.jsx)("span",{children:t.createTime.substr(0,10)})]}),(0,f.jsx)(a.Ut,{children:t.comment})]},t.id)}))]})]})}}]),n}(l.PureComponent),j=(0,c.$j)((function(t){return{title:t.getIn(["blogDetail","title"]),content:t.getIn(["blogDetail","content"]),img:t.getIn(["blogDetail","img"]),hits:t.getIn(["blogDetail","hits"]),comments:t.getIn(["blogDetail","comments"]),likes:t.getIn(["blogDetail","likes"])}}),(function(t){return{getBlogDetail:function(e){t(g(e))}}}))((0,p.EN)(x))}}]);
//# sourceMappingURL=750.4b691ce2.chunk.js.map